<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Aarvi & Siva</title>
    <style>
        :root {
            --bg-dark: #0a0a0a;
            --heart-color: #ff2e63;
            --text-gold: #d4af37;
            --glass: rgba(255, 255, 255, 0.1);
        }

        * { margin: 0; padding: 0; box-sizing: border-box; -webkit-tap-highlight-color: transparent; }

        body {
            background: var(--bg-dark);
            color: #fff;
            font-family: 'Segoe UI', Roboto, sans-serif;
            overflow-x: hidden;
            height: 100vh;
        }

        /* --- INTRO SECTION --- */
        #intro-overlay {
            position: fixed;
            inset: 0;
            background: radial-gradient(circle at center, #1a1a1a 0%, #000 100%);
            z-index: 9999;
            display: flex;
            justify-content: center;
            align-items: center;
            overflow: hidden;
        }

        .rain {
            position: absolute;
            width: 100%;
            height: 100%;
            pointer-events: none;
            z-index: 1;
        }

        .petal {
            position: absolute;
            color: #ff4d6d;
            font-size: 20px;
            pointer-events: none;
            animation: fall linear infinite;
        }

        @keyframes fall {
            to { transform: translateY(100vh) rotate(360deg); }
        }

        /* 3D Rotating Heart */
        .heart-container {
            position: relative;
            width: 200px;
            height: 200px;
            perspective: 1000px;
            cursor: pointer;
            z-index: 10;
        }

        .heart-3d {
            width: 100%;
            height: 100%;
            position: relative;
            transform-style: preserve-3d;
            animation: rotateHeart 5s infinite linear, heartbeat 1.2s infinite ease-in-out;
        }

        .heart-3d::before, .heart-3d::after {
            content: '';
            position: absolute;
            width: 100px;
            height: 160px;
            background: var(--heart-color);
            border-radius: 50px 50px 0 0;
            animation: colorShift 8s infinite alternate;
        }

        .heart-3d::before { transform: rotate(-45deg); left: 50px; }
        .heart-3d::after { transform: rotate(45deg); left: 0px; }

        @keyframes rotateHeart {
            0% { transform: rotateY(0deg); }
            100% { transform: rotateY(360deg); }
        }

        @keyframes heartbeat {
            0%, 100% { transform: scale(1) rotateY(var(--ry, 0deg)); }
            50% { transform: scale(1.15) rotateY(var(--ry, 0deg)); }
        }

        @keyframes colorShift {
            0% { background: #ff2e63; }
            50% { background: #8e44ad; }
            100% { background: #c0392b; }
        }

        /* Question Section */
        #proposal-ui {
            display: none;
            text-align: center;
            padding: 20px;
            z-index: 10000;
        }

        .btn {
            padding: 15px 35px;
            margin: 10px;
            border: none;
            border-radius: 30px;
            font-weight: bold;
            cursor: pointer;
            transition: 0.3s;
        }

        .btn-yes { background: #2ecc71; color: white; }
        .btn-breakup { background: #c0392b; color: white; }

        /* --- BREAKUP FLOW --- */
        #breakup-screen {
            display: none;
            position: fixed;
            inset: 0;
            background: #000;
            z-index: 20000;
            justify-content: center;
            align-items: center;
            flex-direction: column;
        }

        .broken-heart {
            font-size: 80px;
            animation: crack 1s forwards;
        }

        @keyframes crack {
            0% { transform: scale(1); }
            50% { transform: scale(1.2) rotate(5deg); opacity: 1; }
            100% { transform: scale(0); opacity: 0; }
        }

        /* --- CALL UI --- */
        #call-ui {
            display: none;
            position: fixed;
            inset: 0;
            background: #1a1a1a;
            z-index: 30000;
            flex-direction: column;
            align-items: center;
            justify-content: space-around;
            padding: 50px 0;
        }

        /* --- MAIN CONTENT --- */
        #main-site {
            display: none;
            width: 100%;
            max-width: 500px;
            margin: 0 auto;
            padding: 20px;
            padding-bottom: 100px;
        }

        .section-title {
            text-align: center;
            color: var(--text-gold);
            margin: 30px 0 15px;
            font-size: 1.5rem;
            text-transform: uppercase;
            letter-spacing: 2px;
        }

        /* Video Section */
        .video-grid {
            display: grid;
            gap: 15px;
        }

        .video-card {
            background: var(--glass);
            border-radius: 15px;
            overflow: hidden;
            position: relative;
        }

        video {
            width: 100%;
            display: block;
            border-radius: 10px;
        }

        /* Photo Section */
        .photo-scroll {
            display: flex;
            overflow-x: auto;
            gap: 10px;
            padding: 10px 0;
            scrollbar-width: none;
        }

        .photo-card {
            min-width: 250px;
            height: 350px;
            border-radius: 15px;
            object-fit: cover;
            border: 2px solid var(--glass);
        }

        /* Shayari Section */
        .shayari-card {
            background: linear-gradient(135deg, #1a1a1a, #2c3e50);
            padding: 20px;
            border-radius: 15px;
            margin-bottom: 15px;
            border-left: 5px solid var(--heart-color);
            cursor: pointer;
        }

        /* Chat Section */
        .chat-box {
            background: #000;
            border-radius: 15px;
            padding: 15px;
            margin: 20px 0;
        }

        .msg {
            margin: 10px 0;
            padding: 10px;
            border-radius: 10px;
            max-width: 80%;
        }

        .msg.left { background: #333; align-self: flex-start; }
        .msg.right { background: #075e54; margin-left: auto; }

        /* Shake/Flash Effects */
        .flash { animation: flashEffect 0.2s 3; }
        @keyframes flashEffect { 0%, 100% { background: #000; } 50% { background: #fff; } }
        .shake { animation: shakeEffect 0.4s; }
        @keyframes shakeEffect { 
            0% { transform: translate(0,0); } 10% { transform: translate(-10px, -10px); }
            30% { transform: translate(10px, 10px); } 50% { transform: translate(-10px, 10px); }
            100% { transform: translate(0,0); }
        }

        #final-goodbye {
            text-align: center;
            padding: 50px 20px;
            margin-top: 50px;
            border-top: 1px solid #333;
        }
    </style>
</head>
<body>

    <audio id="bgMusic" src="newsong.mp3" loop></audio>
    <audio id="shayariAudio" src="broken.mp3"></audio>

    <div id="intro-overlay">
        <div class="rain" id="rainContainer"></div>
        <div id="intro-content">
            <div class="heart-container" id="mainHeart">
                <div class="heart-3d"></div>
            </div>
            <div id="proposal-ui">
                <h1 style="color: var(--text-gold);">Aarvi ji</h1>
                <p>Welcome to SivaSingh‚Äôs heart üíñ</p>
                <p>I want to say I love you</p>
                <p style="margin-bottom: 20px;">Do you love me?</p>
                <button class="btn btn-yes" onclick="handleYes()">YES ‚ù§Ô∏è</button>
                <button class="btn btn-breakup" onclick="handleBreakup()">BREAKUP üíî</button>
            </div>
        </div>
    </div>

    <div id="breakup-screen">
        <div class="broken-heart">üíî</div>
        <h2 id="breakup-text">Broken...</h2>
    </div>

    <div id="call-ui">
        <div style="text-align: center;">
            <div style="width: 100px; height: 100px; background: #444; border-radius: 50%; margin: 0 auto 20px;"></div>
            <h2>Aarvi</h2>
            <p>Incoming Call...</p>
        </div>
        <div id="call-dialogue" style="padding: 20px; font-style: italic; color: #aaa; text-align: center; min-height: 80px;"></div>
        <div style="display: flex; gap: 50px;">
            <div style="width: 60px; height: 60px; background: #e74c3c; border-radius: 50%; display: flex; justify-content: center; align-items: center;">üìû</div>
            <div style="width: 60px; height: 60px; background: #2ecc71; border-radius: 50%; display: flex; justify-content: center; align-items: center;">üìû</div>
        </div>
    </div>

    <div id="main-site">
        <div id="typewriter" style="height: 50px; text-align: center; color: #ff7675; font-size: 1.1rem; margin-bottom: 20px;"></div>

        <h2 class="section-title">Memories</h2>
        <div class="video-grid">
            <div class="video-card"><video src="video1.mp4" playsinline controls preload="metadata"></video></div>
            <div class="video-card"><video src="video2.mp4" playsinline controls preload="metadata"></video></div>
            <div class="video-card"><video src="video3.mp4" playsinline controls preload="metadata"></video></div>
            <div class="video-card"><video src="video4.mp4" playsinline controls preload="metadata"></video></div>
        </div>

        <h2 class="section-title">Gallery</h2>
        <div class="photo-scroll">
            <img src="photo1.jpg" class="photo-card" alt="Memory">
            <img src="photo2.jpg" class="photo-card" alt="Memory">
            <img src="photo3.jpg" class="photo-card" alt="Memory">
            <img src="photo4.jpg" class="photo-card" alt="Memory">
            <img src="photo5.jpg" class="photo-card" alt="Memory">
            <img src="photo6.jpg" class="photo-card" alt="Memory">
            <img src="photo7.jpg" class="photo-card" alt="Memory">
            <img src="photo8.jpg" class="photo-card" alt="Memory">
            <img src="photo9.jpg" class="photo-card" alt="Memory">
            <img src="photo10.jpg" class="photo-card" alt="Memory">
        </div>

        <h2 class="section-title">Shayari</h2>
        <div class="shayari-card" onclick="playShayari()">
            <p>"Tumhare bina jeena mushkil hai,<br>Aur tumhe ye batana aur bhi mushkil..."</p>
            <small>Tap to feel üéß</small>
        </div>
        <div class="shayari-card" onclick="playShayari()">
            <p>"Mohabbat thi isliye jane diya,<br>Zidd hoti toh baahon mein hoti."</p>
            <small>Tap to feel üéß</small>
        </div>

        <h2 class="section-title">Chat History</h2>
        <div class="chat-box">
            <div class="msg left">Siva?</div>
            <div class="msg right">Haan Aarvi...</div>
            <div class="msg left">Humara kuch nahi ho sakta.</div>
            <div class="msg right">Aisa mat bolo please üíî</div>
        </div>

        <div style="text-align: center; margin: 30px 0;">
            <p style="color: #888;">Follow me on Instagram</p>
            <p style="color: var(--heart-color);">@smss1708 | @black_its_me20</p>
        </div>

        <div id="final-goodbye">
            <p style="font-size: 1.2rem; margin-bottom: 20px;">Mai ja rahi hoon‚Ä¶ hamesha ke liye‚Ä¶</p>
            <button class="btn btn-breakup" onclick="finalExit()">Good Bye ü•Ä</button>
        </div>
    </div>

    <script>
        const bgMusic = document.getElementById('bgMusic');
        const shayariAudio = document.getElementById('shayariAudio');
        const videos = document.querySelectorAll('video');
        const rainContainer = document.getElementById('rainContainer');

        // Create Rain & Petals
        function createAtmosphere() {
            for(let i=0; i<50; i++) {
                const petal = document.createElement('div');
                petal.className = 'petal';
                petal.innerHTML = i % 2 === 0 ? 'üå∏' : 'üíß';
                petal.style.left = Math.random() * 100 + 'vw';
                petal.style.animationDuration = (Math.random() * 3 + 2) + 's';
                petal.style.opacity = Math.random();
                rainContainer.appendChild(petal);
            }
        }
        createAtmosphere();

        // Intro Logic
        document.getElementById('mainHeart').addEventListener('click', function() {
            document.body.classList.add('flash', 'shake');
            this.style.display = 'none';
            setTimeout(() => {
                document.body.classList.remove('flash', 'shake');
                document.getElementById('proposal-ui').style.display = 'block';
            }, 500);
        });

        function handleYes() {
            alert("She said YES üíñ");
            startSequence();
        }

        function handleBreakup() {
            const screen = document.getElementById('breakup-screen');
            screen.style.display = 'flex';
            setTimeout(() => {
                startSequence();
            }, 2000);
        }

        function startSequence() {
            document.getElementById('intro-overlay').style.display = 'none';
            document.getElementById('breakup-screen').style.display = 'none';
            startCall();
        }

        // Call Logic
        const dialogue = [
            { t: "Aarvi: Hello Siva‚Ä¶", d: 2000 },
            { t: "Siva: Haan babu‚Ä¶", d: 2000 },
            { t: "Aarvi: Mai hamesha ke liye ja rahi hu‚Ä¶", d: 3000 },
            { t: "Siva: Please Aarvi mujhe chhod ke mat jao, mai pagal ho jaunga‚Ä¶", d: 4000 },
            { t: "Aarvi: Sorry Siva‚Ä¶ ab hum kabhi nahi milenge‚Ä¶", d: 3000 }
        ];

        function startCall() {
            const ui = document.getElementById('call-ui');
            const box = document.getElementById('call-dialogue');
            ui.style.display = 'flex';
            
            let i = 0;
            function nextLine() {
                if(i < dialogue.length) {
                    box.innerText = dialogue[i].t;
                    setTimeout(() => {
                        i++;
                        nextLine();
                    }, dialogue[i].d);
                } else {
                    ui.style.display = 'none';
                    initMainSite();
                }
            }
            nextLine();
        }

        function initMainSite() {
            document.getElementById('main-site').style.display = 'block';
            bgMusic.play().catch(() => {
                document.addEventListener('click', () => bgMusic.play(), {once: true});
            });
            startTypewriter();
        }

        // Audio/Video State Management
        videos.forEach(vid => {
            vid.addEventListener('play', () => {
                bgMusic.pause();
                shayariAudio.pause();
                videos.forEach(otherVid => {
                    if (otherVid !== vid) {
                        otherVid.pause();
                        otherVid.currentTime = 0;
                    }
                });
            });

            vid.addEventListener('pause', () => {
                if (![...videos].some(v => !v.paused)) {
                    bgMusic.play();
                }
            });

            vid.addEventListener('ended', () => {
                bgMusic.play();
            });
        });

        function playShayari() {
            videos.forEach(v => v.pause());
            bgMusic.pause();
            shayariAudio.currentTime = 0;
            shayariAudio.play();
            
            shayariAudio.onended = () => {
                if (![...videos].some(v => !v.paused)) {
                    bgMusic.play();
                }
            };
        }

        // Typewriter
        const texts = ["I miss you every second...", "Why did you leave me?", "My heart is broken...", "Please come back Aarvi..."];
        let textIdx = 0;
        function startTypewriter() {
            const el = document.getElementById('typewriter');
            let charIdx = 0;
            let currentText = texts[textIdx];
            
            function type() {
                if(charIdx < currentText.length) {
                    el.innerHTML += currentText.charAt(charIdx);
                    charIdx++;
                    setTimeout(type, 100);
                } else {
                    setTimeout(() => {
                        el.innerHTML = "";
                        charIdx = 0;
                        textIdx = (textIdx + 1) % texts.length;
                        currentText = texts[textIdx];
                        type();
                    }, 2000);
                }
            }
            type();
        }

        function finalExit() {
            bgMusic.pause();
            document.getElementById('main-site').innerHTML = `
                <div style="height:100vh; display:flex; justify-content:center; align-items:center; flex-direction:column; text-align:center;">
                    <h1 style="color:#555; font-weight:lighter;">... Alvida ...</h1>
                    <p style="margin-top:20px; color:#333;">The end of a story.</p>
                </div>
            `;
            setTimeout(() => {
                window.close();
                document.body.style.background = "#000";
                document.body.innerHTML = "";
            }, 3000);
        }
    </script>
</body>
    </html>
